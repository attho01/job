// ==========================================
// νμ΄μ§€κ°€ μ™„μ „ν λ΅λ“λ ν›„ μ‹¤ν–‰λλ” μ½”λ“
// ==========================================

// HTML μ”μ†λ“¤μ„ λ³€μμ— μ €μ¥ (λ‚μ¤‘μ— μ‰½κ² μ‚¬μ©ν•κΈ° μ„ν•΄)
const submitBtn = document.getElementById('submitBtn'); // μ μ¶ λ²„νΌ
const retryBtn = document.getElementById('retryBtn'); // λ‹¤μ‹ ν•κΈ° λ²„νΌ
const questionSection = document.getElementById('questionSection'); // μ§λ¬Έ μ„Ήμ…
const resultSection = document.getElementById('resultSection'); // κ²°κ³Ό μ„Ήμ…
const resultBox = document.getElementById('resultBox'); // κ²°κ³Ό λ‚΄μ© λ°•μ¤

// ==========================================
// μ§μ—… λ°μ΄ν„°λ² μ΄μ¤
// ==========================================

// κ° λ‹µλ³€ μ΅°ν•©μ— λ”°λ¥Έ μ¶”μ² μ§μ—… μ •λ³΄
const jobDatabase = {
    // μ™Έν–¥μ  + μ°½μμ  + ν€μ›ν¬
    'μ™Έν–¥μ -μ°½μμ -ν€μ›ν¬': {
        job: 'κ΄‘κ³  κΈ°νμ',
        description: 'μ°½μμ μΈ μ•„μ΄λ””μ–΄λ΅ μ‚¬λλ“¤μ„ μ„¤λ“ν•κ³ , ν€κ³Ό ν‘λ ¥ν•μ—¬ λ©‹μ§„ κ΄‘κ³ λ¥Ό λ§λ“¤μ–΄λ‚΄λ” μ§μ—…μ…λ‹λ‹¤. λ‹Ήμ‹ μ μ™Έν–¥μ μΈ μ„±κ²©κ³Ό μ°½μλ ¥μ΄ λΉ›μ„ λ°ν•  μ μμµλ‹λ‹¤!'
    },
    // μ™Έν–¥μ  + μ°½μμ  + λ…λ¦½μ 
    'μ™Έν–¥μ -μ°½μμ -λ…λ¦½μ ': {
        job: 'ν”„λ¦¬λμ„ λ””μμ΄λ„',
        description: 'μμ λ΅­κ² μ°½μ‘ ν™λ™μ„ ν•λ©΄μ„λ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ†ν†µν•λ” μ§μ—…μ…λ‹λ‹¤. λ…λ¦½μ μΌλ΅ μΌν•λ©΄μ„ λ‹Ήμ‹ μ μ°½μλ ¥μ„ λ§μκ» λ°νν•  μ μμµλ‹λ‹¤!'
    },
    // μ™Έν–¥μ  + λ…Όλ¦¬μ  + ν€μ›ν¬
    'μ™Έν–¥μ -λ…Όλ¦¬μ -ν€μ›ν¬': {
        job: 'ν”„λ΅μ νΈ λ§¤λ‹μ €',
        description: 'ν€μ„ μ΄λκ³  ν”„λ΅μ νΈλ¥Ό μ²΄κ³„μ μΌλ΅ κ΄€λ¦¬ν•λ” μ§μ—…μ…λ‹λ‹¤. λ…Όλ¦¬μ  μ‚¬κ³ μ™€ λ›°μ–΄λ‚ μ†ν†µ λ¥λ ¥μΌλ΅ ν€μ μ„±κ³µμ„ μ΄λμ–΄λ‚Ό μ μμµλ‹λ‹¤!'
    },
    // μ™Έν–¥μ  + λ…Όλ¦¬μ  + λ…λ¦½μ 
    'μ™Έν–¥μ -λ…Όλ¦¬μ -λ…λ¦½μ ': {
        job: 'μμ—… μ»¨μ„¤ν„΄νΈ',
        description: 'κ³ κ°κ³Ό μ§μ ‘ μ†ν†µν•λ©° λ¬Έμ λ¥Ό λ¶„μ„ν•κ³  ν•΄κ²°μ±…μ„ μ μ‹ν•λ” μ§μ—…μ…λ‹λ‹¤. λ…λ¦½μ μΌλ΅ μΌν•λ©΄μ„λ„ μ‚¬λλ“¤κ³Ό κµλ¥ν•  μ μμµλ‹λ‹¤!'
    },
    // λ‚΄ν–¥μ  + μ°½μμ  + ν€μ›ν¬
    'λ‚΄ν–¥μ -μ°½μμ -ν€μ›ν¬': {
        job: 'κ²μ„ κ°λ°μ',
        description: 'μƒμƒλ ¥μ„ λ°νν•μ—¬ μ¬λ―Έμλ” κ²μ„μ„ λ§λ“λ” μ§μ—…μ…λ‹λ‹¤. ν€κ³Ό ν‘λ ¥ν•λ©΄μ„λ„ μμ‹ μ μ°½μμ  μ•„μ΄λ””μ–΄λ¥Ό μ½”λ“λ΅ κµ¬ν„ν•  μ μμµλ‹λ‹¤!'
    },
    // λ‚΄ν–¥μ  + μ°½μμ  + λ…λ¦½μ 
    'λ‚΄ν–¥μ -μ°½μμ -λ…λ¦½μ ': {
        job: 'μ‘κ°€ / μΌλ¬μ¤νΈλ μ΄ν„°',
        description: 'νΌμλ§μ μ‹κ°„ μ†μ—μ„ μ°½μ‘ ν™λ™μ— λ°μ…ν•λ” μ§μ—…μ…λ‹λ‹¤. λ‹Ήμ‹ μ μƒμƒλ ¥κ³Ό μμ μ  κ°κ°μ„ μ‘ν’μΌλ΅ ν‘ν„ν•  μ μμµλ‹λ‹¤!'
    },
    // λ‚΄ν–¥μ  + λ…Όλ¦¬μ  + ν€μ›ν¬
    'λ‚΄ν–¥μ -λ…Όλ¦¬μ -ν€μ›ν¬': {
        job: 'μ†ν”„νΈμ›¨μ–΄ κ°λ°μ',
        description: 'μ½”λ“λ¥Ό μ‘μ„±ν•λ©° λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μ§μ—…μ…λ‹λ‹¤. ν€κ³Ό ν‘λ ¥ν•λ©΄μ„λ„ μ§‘μ¤‘ν•΄μ„ ν”„λ΅κ·Έλλ°ν•  μ μλ” ν™κ²½μ΄ μ κ³µλ©λ‹λ‹¤!'
    },
    // λ‚΄ν–¥μ  + λ…Όλ¦¬μ  + λ…λ¦½μ 
    'λ‚΄ν–¥μ -λ…Όλ¦¬μ -λ…λ¦½μ ': {
        job: 'λ°μ΄ν„° λ¶„μ„κ°€',
        description: 'λ°μ΄ν„°λ¥Ό λ¶„μ„ν•κ³  μλ―Έ μλ” μΈμ‚¬μ΄νΈλ¥Ό μ°Ύμ•„λ‚΄λ” μ§μ—…μ…λ‹λ‹¤. λ…λ¦½μ μΌλ΅ κΉμ΄ μλ” λ¶„μ„ μ‘μ—…μ— λ°λ‘ν•  μ μμµλ‹λ‹¤!'
    }
};

// ==========================================
// μ μ¶ λ²„νΌ ν΄λ¦­ μ΄λ²¤νΈ
// ==========================================

// μ‚¬μ©μκ°€ "λ‚΄ μ§μ—… μ°ΎκΈ°!" λ²„νΌμ„ ν΄λ¦­ν–μ„ λ• μ‹¤ν–‰λλ” ν•¨μ
submitBtn.addEventListener('click', function() {
    // 1λ‹¨κ³„: μ‚¬μ©μκ°€ μ„ νƒν• λ‹µλ³€λ“¤μ„ μμ§‘
    const personality = document.querySelector('input[name="personality"]:checked'); // μ„±κ²© λ‹µλ³€
    const activity = document.querySelector('input[name="activity"]:checked'); // ν™λ™ λ‹µλ³€
    const workstyle = document.querySelector('input[name="workstyle"]:checked'); // μΌν•λ” λ°©μ‹ λ‹µλ³€

    // 2λ‹¨κ³„: λ¨λ“  μ§λ¬Έμ— λ‹µν–λ”μ§€ ν™•μΈ
    if (!personality || !activity || !workstyle) {
        // ν•λ‚λΌλ„ λ‹µν•μ§€ μ•μ•λ‹¤λ©΄ κ²½κ³  λ©”μ‹μ§€ ν‘μ‹
        alert('β οΈ λ¨λ“  μ§λ¬Έμ— λ‹µν•΄μ£Όμ„Έμ”!');
        return; // ν•¨μ μΆ…λ£ (λ” μ΄μƒ μ§„ν–‰ν•μ§€ μ•μ)
    }

    // 3λ‹¨κ³„: λ‹µλ³€μ„ μ΅°ν•©ν•μ—¬ ν‚¤(key) μƒμ„±
    // μ: "μ™Έν–¥μ -μ°½μμ -ν€μ›ν¬"
    const answerKey = personality.value + '-' + activity.value + '-' + workstyle.value;

    // 4λ‹¨κ³„: λ‹µλ³€ μ΅°ν•©μ— λ§λ” μ§μ—… μ •λ³΄ κ°€μ Έμ¤κΈ°
    const result = jobDatabase[answerKey];

    // 5λ‹¨κ³„: κ²°κ³Ό ν™”λ©΄μ— μ§μ—… μ •λ³΄ ν‘μ‹
    resultBox.innerHTML = `
        <h3>π― ${result.job}</h3>
        <p>${result.description}</p>
    `;

    // 6λ‹¨κ³„: μ§λ¬Έ μ„Ήμ… μ¨κΈ°κ³  κ²°κ³Ό μ„Ήμ… λ³΄μ—¬μ£ΌκΈ°
    questionSection.style.display = 'none'; // μ§λ¬Έ μ„Ήμ… μ¨κΉ€
    resultSection.style.display = 'block'; // κ²°κ³Ό μ„Ήμ… λ³΄μ„

    // 7λ‹¨κ³„: νμ΄μ§€λ¥Ό λ¶€λ“λ½κ² μ„λ΅ μ¤ν¬λ΅¤
    window.scrollTo({
        top: 0, // λ§¨ μ„λ΅
        behavior: 'smooth' // λ¶€λ“λ½κ² μ΄λ™
    });
});

// ==========================================
// λ‹¤μ‹ ν•κΈ° λ²„νΌ ν΄λ¦­ μ΄λ²¤νΈ
// ==========================================

// μ‚¬μ©μκ°€ "λ‹¤μ‹ ν…μ¤νΈν•κΈ°" λ²„νΌμ„ ν΄λ¦­ν–μ„ λ• μ‹¤ν–‰λλ” ν•¨μ
retryBtn.addEventListener('click', function() {
    // 1λ‹¨κ³„: λ¨λ“  λΌλ””μ¤ λ²„νΌ μ„ νƒ ν•΄μ  (μ΄κΈ°ν™”)
    const allRadios = document.querySelectorAll('input[type="radio"]');
    allRadios.forEach(function(radio) {
        radio.checked = false; // μ²΄ν¬ ν•΄μ 
    });

    // 2λ‹¨κ³„: κ²°κ³Ό μ„Ήμ… μ¨κΈ°κ³  μ§λ¬Έ μ„Ήμ… λ³΄μ—¬μ£ΌκΈ°
    resultSection.style.display = 'none'; // κ²°κ³Ό μ„Ήμ… μ¨κΉ€
    questionSection.style.display = 'block'; // μ§λ¬Έ μ„Ήμ… λ³΄μ„

    // 3λ‹¨κ³„: νμ΄μ§€λ¥Ό λ¶€λ“λ½κ² μ„λ΅ μ¤ν¬λ΅¤
    window.scrollTo({
        top: 0, // λ§¨ μ„λ΅
        behavior: 'smooth' // λ¶€λ“λ½κ² μ΄λ™
    });
});

// ==========================================
// μ¶”κ°€ κΈ°λ¥: μ—”ν„° ν‚¤λ΅ μ μ¶ν•κΈ°
// ==========================================

// μ‚¬μ©μκ°€ ν‚¤λ³΄λ“λ¥Ό λλ €μ„ λ• μ‹¤ν–‰λλ” ν•¨μ
document.addEventListener('keypress', function(event) {
    // μ—”ν„° ν‚¤λ¥Ό λλ €κ³ , μ§λ¬Έ μ„Ήμ…μ΄ λ³΄μ΄λ” μƒνƒλΌλ©΄
    if (event.key === 'Enter' && questionSection.style.display !== 'none') {
        submitBtn.click(); // μ μ¶ λ²„νΌμ„ ν΄λ¦­ν• κ²ƒκ³Ό κ°™μ€ ν¨κ³Ό
    }
});

// ==========================================
// νμ΄μ§€ λ΅λ“ μ‹ μ΄κΈ° μ„¤μ •
// ==========================================

// νμ΄μ§€κ°€ μ²μ μ—΄λ Έμ„ λ• μ‹¤ν–‰λλ” μ½”λ“
console.log('β… λ‚μ ν–‰λ³µν• μ§μ—… μ°ΎκΈ° νμ΄μ§€κ°€ λ΅λ“λμ—μµλ‹λ‹¤!');
console.log('π“‹ μ΄ ' + Object.keys(jobDatabase).length + 'κ°μ μ§μ—…μ΄ μ¤€λΉ„λμ–΄ μμµλ‹λ‹¤.');
